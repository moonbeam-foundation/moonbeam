# PR #7882: Add poke_deposit Extrinsic to pallet-recovery

## Impact Classification: INHERITED

## PR Summary

**Title**: add poke_deposit extrinsic to pallet-recovery

**Description**: This PR introduces a new extrinsic `poke_deposit` to the `pallet-recovery` module. The extrinsic enables re-adjustment of deposits made in the recovery pallet following the Account Holding Migration (AHM). It's part of deposit reconciliation across the Polkadot SDK.

**Key Changes**:
- Added new `poke_deposit` extrinsic for deposit adjustment (supports increases and decreases)
- Added `DepositPoked` event emitted upon successful execution
- Created `DepositKind` enum to distinguish between deposit types
- Zero fees when actual deposit adjustments occur; standard fees when no adjustment happens
- Comprehensive benchmarking (~330 microseconds execution time)
- Updated weights for rococo-runtime and westend-runtime

**Labels**: T1-FRAME, T2-pallets

**Version Impact**: Major version bump for:
- pallet-recovery
- rococo-runtime
- westend-runtime

## Moonbeam Analysis

### Current Usage

**Direct Usage**: NONE
- Moonbeam does NOT include pallet-recovery in any of its three runtimes:
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/src/lib.rs` - No Recovery pallet
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbeam/src/lib.rs` - No Recovery pallet
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonriver/src/lib.rs` - No Recovery pallet

**Dependency Chain**: Transitive dev-dependency only
```
pallet-recovery v40.0.0
└── westend-runtime v23.0.0
    [dev-dependencies]
    └── moonbeam-relay-encoder v0.1.0
        └── moonbase-runtime v0.8.4
```

**Evidence from construct_runtime! macro**:
The moonbase runtime (lines 1414-1484 of `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/src/lib.rs`) includes 38 pallets but NOT pallet-recovery:
- System, Utility, Timestamp, Balances, Sudo
- ParachainSystem, TransactionPayment, ParachainInfo
- EthereumChainId, EVM, Ethereum
- ParachainStaking, Scheduler, Treasury
- Identity, Proxy, Multisig, Referenda, ConvictionVoting
- XcmpQueue, PolkadotXcm, XcmTransactor
- MessageQueue, MultiBlockMigrations
- And others...

**relay-encoder analysis**:
- `/Users/manuelmauro/Workspace/moonbeam/runtime/relay-encoder/Cargo.toml` shows westend-runtime only as dev-dependency
- `/Users/manuelmauro/Workspace/moonbeam/runtime/relay-encoder/src/lib.rs` contains no references to recovery functionality

## Impact Assessment

### Why INHERITED?

1. **Non-Breaking Additive Change**: This PR adds a new extrinsic to pallet-recovery. It does not modify existing APIs, change storage layouts, or alter existing extrinsics.

2. **Zero Direct Usage**: Moonbeam does not use pallet-recovery in any of its production runtimes or custom code.

3. **Transitive Dev-Dependency Only**: pallet-recovery appears in Moonbeam's dependency tree only through:
   - westend-runtime (which includes pallet-recovery)
   - moonbeam-relay-encoder (which has westend-runtime as a dev-dependency)
   - No production code path uses recovery functionality

4. **No Code Changes Required**: Since Moonbeam doesn't use pallet-recovery, there are no runtime configurations, precompiles, or integrations to update.

### Required Actions

**None** - This change will be automatically inherited through the polkadot-sdk upgrade with no impact on Moonbeam's functionality.

### Testing Requirements

**None** - No testing required as Moonbeam doesn't use pallet-recovery.

### Migration Requirements

**None** - No runtime migrations needed as the pallet is not included in Moonbeam runtimes.

## Verification

Search commands used to verify no usage:
```bash
# Search for pallet-recovery references
rg "pallet-recovery|pallet_recovery" /Users/manuelmauro/Workspace/moonbeam
# Result: Only found in Cargo.lock (transitive dependency)

# Search for Recovery in Cargo.toml files
rg "Recovery" --glob "**/Cargo.toml" /Users/manuelmauro/Workspace/moonbeam
# Result: No matches

# Check runtime lib.rs files
rg "Recovery|pallet-recovery" /Users/manuelmauro/Workspace/moonbeam/runtime/*/src/lib.rs
# Result: No matches

# Check dependency tree
cargo tree -i pallet-recovery
# Result: Only through westend-runtime → moonbeam-relay-encoder [dev-dep]
```

## Conclusion

PR #7882 has **no functional impact** on Moonbeam. The pallet-recovery upgrade will be inherited through the polkadot-sdk dependency update, but since Moonbeam doesn't use this pallet, no code changes, testing, or migrations are required. This is a standard INHERITED change that requires no action from the Moonbeam team.
