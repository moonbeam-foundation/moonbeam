# PR #8164 Impact Analysis: Add Personhood Tracking Pallets

## PR Information
- **Title**: [PoP] Add personhood tracking pallets
- **GitHub**: https://github.com/paritytech/polkadot-sdk/pull/8164
- **Labels**: T1-FRAME
- **Audience**: Runtime Dev

## Summary
This PR introduces three new pallets that implement a Proof of Personhood (PoP) system in the Polkadot SDK:

1. **pallet-people**: Stores and manages identifiers for individuals who have proven their personhood
2. **pallet-origin-restriction**: Tracks and limits fee usage for certain origins
3. **pallet-dummy-dim**: Testing utility to control PeopleTrait interface (not for production)

Additionally, it makes minor additive changes to:
- **frame-support**: Added new `traits::reality` module with traits for modeling reality (`CountedMembers`, `Truth`, etc.)
- **frame-system**: Added `ValidNonceInfo` type to support the new functionality

## Impact Classification: INHERITED

### Rationale
This PR has **no direct impact** on Moonbeam's codebase because:

1. **New pallets are not used**: None of the three new pallets (`pallet-people`, `pallet-origin-restriction`, `pallet-dummy-dim`) are included in Moonbeam's runtime configuration.

2. **New traits are not used**: The new traits and types introduced in frame-support (`PeopleTrait`, `CountedMembers`, `Truth`, `GenerateVerifiable`, `PersonalIdentity`, `PersonalAlias`, `AsPerson`) are not referenced anywhere in Moonbeam's codebase.

3. **Changes are additive only**:
   - frame-support: minor version bump (backward compatible)
   - frame-system: minor version bump (backward compatible)
   - The new `ValidNonceInfo` type is exported but doesn't change existing `CheckNonce` behavior

4. **No breaking changes**: Moonbeam uses `frame_system::CheckNonce<Runtime>` in its transaction extension tuple (all three runtimes: moonbase, moonbeam, moonriver), and the PR's changes to CheckNonce are purely additive - adding new types without modifying existing functionality.

### Code Evidence

#### Moonbeam's CheckNonce Usage
All three Moonbeam runtimes use CheckNonce in the same standard way:
```rust
// runtime/moonbase/src/lib.rs:1502
// runtime/moonbeam/src/lib.rs
// runtime/moonriver/src/lib.rs
pub type TxExtension = (
    frame_system::CheckNonZeroSender<Runtime>,
    frame_system::CheckSpecVersion<Runtime>,
    frame_system::CheckTxVersion<Runtime>,
    frame_system::CheckGenesis<Runtime>,
    frame_system::CheckEra<Runtime>,
    frame_system::CheckNonce<Runtime>,  // ← Used here
    frame_system::CheckWeight<Runtime>,
    pallet_transaction_payment::ChargeTransactionPayment<Runtime>,
    frame_metadata_hash_extension::CheckMetadataHash<Runtime>,
);
```

#### Frame-system Changes
The PR adds a new type but doesn't modify existing CheckNonce behavior:
```rust
// substrate/frame/system/src/lib.rs
pub use extensions::{
    check_nonce::{CheckNonce, ValidNonceInfo},  // ← ValidNonceInfo added
    // ... other extensions remain unchanged
};
```

## Crates Changed
- pallet-dummy-dim: major (new crate)
- pallet-origin-restriction: major (new crate)
- pallet-people: major (new crate)
- frame-support: minor (additive changes)
- frame-system: minor (additive changes)
- polkadot-sdk: major

## Required Actions
None. The changes will be automatically inherited when Moonbeam upgrades its Polkadot SDK dependency.

## Optional Considerations
While not required, Moonbeam developers may want to:
- Review the new PoP system to understand if personhood tracking could be useful for future features
- Familiarize themselves with the new `traits::reality` module in frame-support
- Consider if `pallet-origin-restriction` patterns could be useful for limiting certain operations

## Migration Requirements
None required.

## Testing Recommendations
Standard upgrade testing should be sufficient as these are purely additive changes:
- Verify runtime compilation
- Verify existing transaction extensions continue to work
- Standard smoke tests

## Additional Notes
- The new pallets introduce a novel cryptographic primitive for personhood verification using ring signatures
- The `pallet-dummy-dim` is explicitly marked as testing-only and should not be used in production
- All three new pallets are used in the Polkadot SDK's test runtimes but are optional for parachains
