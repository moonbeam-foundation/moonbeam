# PR #8238: Add `checked_sqrt` to the `FixedPointNumber` trait

## Summary

This PR adds a `checked_sqrt` function to the `FixedPointNumber` trait and renames the const `try_sqrt` function to `checked_sqrt` in the `implement_fixed` macro. The change affects `FixedI64`, `FixedU64`, `FixedI128`, and `FixedU128` types in the `sp-arithmetic` crate.

## PR Details

- **GitHub**: https://github.com/paritytech/polkadot-sdk/pull/8238
- **Status**: Merged (April 18, 2025)
- **Affected Crate**: `sp-arithmetic` (major bump)
- **Labels**: R1-breaking_change, T13-deprecation, T17-primitives
- **Audience**: Runtime Developers

## Changes

1. Renamed const `try_sqrt` to `checked_sqrt` in fixed-point number types
2. Added `checked_sqrt` method to the `FixedPointNumber` trait
3. The old `try_sqrt` is deprecated with migration notes
4. Both const and non-const versions maintained for backward compatibility

## Moonbeam Impact Analysis

### Impact Level: **INHERITED**

### Code Search Results

**Search for `try_sqrt` usage:**
- No occurrences found in the codebase

**Search for `checked_sqrt` usage:**
- No occurrences found in the codebase

**Search for `sqrt` methods:**
- No sqrt-related methods found in pallets or precompiles

**FixedPointNumber trait usage:**
- Imported in runtime files:
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonriver/src/lib.rs:105`
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbeam/src/lib.rs:101`
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/src/lib.rs:114`
- Imported in integration tests:
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonriver/tests/integration_test.rs:2807`
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbeam/tests/integration_test.rs:2843`
  - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/tests/integration_test.rs:2947`

**Actual usage patterns:**
The codebase uses `FixedU128` with methods like:
- `from_float()`
- `from_u32()`
- `saturating_mul_int()`

None of the sqrt-related functionality is used.

### Analysis

The Moonbeam codebase:
1. Imports the `FixedPointNumber` trait but only as a trait bound
2. Does NOT call any methods from the trait directly
3. Does NOT use `try_sqrt` or `checked_sqrt` functions
4. Does NOT use any sqrt-related functionality from fixed-point types

### Required Actions

**None.** This change will be inherited automatically when updating the `sp-arithmetic` dependency. No code changes or migrations are required in the Moonbeam codebase.

### Migration Notes

N/A - The deprecated `try_sqrt` function is not used in the Moonbeam codebase.

### Testing Recommendations

No specific testing required beyond the standard regression test suite, as the affected functionality is not used in the codebase.

## Conclusion

This PR represents a breaking change in the `sp-arithmetic` crate API, but it has **no functional impact** on the Moonbeam codebase. The change will be inherited automatically through the dependency update without requiring any code modifications or migrations.
