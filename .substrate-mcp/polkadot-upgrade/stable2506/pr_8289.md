# PR #8289: Extract create_pool_with_native_on macro to common crate

**Impact**: INHERITED
**Confidence**: High
**Affected Components**: None

## Changes Detected

This PR extracts the `create_pool_with_native_on` macro from the `bridge-hub-westend-integration-tests` crate to the `emulated-integration-tests-common` crate. This is purely a code reorganization change to enable macro reuse across the Polkadot runtimes repository.

**Key Changes:**
- Moved `create_pool_with_native_on` macro to a shared location
- No functional changes to the macro itself
- Crate bumps: `bridge-hub-westend-integration-tests` (patch), `emulated-integration-tests-common` (minor)

## Project Impact

**No impact on Moonbeam.**

This change affects only Polkadot SDK's integration test infrastructure and does not touch any runtime or client logic that Moonbeam depends on.

### Analysis Details:

1. **Macro Usage**: Searched for `create_pool_with_native_on` in Moonbeam codebase - no matches found.

2. **Crate Dependencies**: Checked all Cargo.toml files in Moonbeam - neither `emulated-integration-tests-common` nor `bridge-hub-westend-integration-tests` are listed as dependencies.

3. **Integration Tests**: Moonbeam has its own integration test infrastructure:
   - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbeam/tests/integration_test.rs`
   - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/tests/integration_test.rs`
   - `/Users/manuelmauro/Workspace/moonbeam/runtime/moonriver/tests/integration_test.rs`

   These tests use Moonbeam's custom `ExtBuilder` pattern and do not depend on Polkadot SDK's emulated integration test framework.

4. **Asset Hub/Bridge Hub References**: While Moonbeam code contains references to AssetHub and BridgeHub for XCM integration, these are runtime-level integrations and do not use the test macros affected by this PR.

## Evidence & References

### Codebase Search Results:

```bash
# No usage of the affected macro
$ rg "create_pool_with_native_on" /Users/manuelmauro/Workspace/moonbeam
# No results

# No dependencies on affected crates
$ rg "emulated-integration-tests-common|bridge-hub-westend-integration-tests" \
     /Users/manuelmauro/Workspace/moonbeam --glob "**/Cargo.toml"
# No results
```

### Moonbeam Test Infrastructure:

Moonbeam uses its own test helpers in `/Users/manuelmauro/Workspace/moonbeam/runtime/*/tests/common/mod.rs`:
- Custom `ExtBuilder` for test environment setup
- Does not import or depend on Polkadot SDK emulated integration test macros
- Self-contained testing infrastructure

## Conclusion

This PR is a **development tooling change** that reorganizes test utilities within the Polkadot SDK repository. It has **no impact** on Moonbeam's runtime, client, or test infrastructure. The changes are automatically inherited through the dependency update but require no action from the Moonbeam team.

**Action Required**: None
