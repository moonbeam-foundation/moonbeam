# PR #8289: Extract create_pool_with_native_on macro to common crate

## Overview

**PR Title:** Extract create_pool_with_native_on macro to common crate

**PR URL:** https://github.com/paritytech/polkadot-sdk/pull/8289

**Status:** Merged

**Audience:** Runtime Dev

## Summary

This PR extracts the `create_pool_with_native_on` macro from the `bridge-hub-westend-integration-tests` crate and moves it to the `emulated-integration-tests-common` crate. The goal is to make this macro reusable across different projects, particularly in the polkadot-fellows runtimes repository.

## Changes

### Modified Crates
- `bridge-hub-westend-integration-tests` (patch bump)
- `emulated-integration-tests-common` (minor bump)

### Key Changes
- Extracted `create_pool_with_native_on` macro to `cumulus/parachains/integration-tests/emulated/common/src/macros.rs`
- Made the macro available for reuse in other projects
- Added documentation and formatting adjustments

### Technical Notes
During review, concerns were raised about cross-version compatibility, specifically regarding `Location` imports from `xcm::v5` and `GeneralIndex` usage. The macro may have limitations when used with older XCM versions.

## Impact on Moonbeam

**Impact Level:** None

### Analysis

1. **Crate Dependencies:**
   - Moonbeam does not depend on `emulated-integration-tests-common`
   - Moonbeam does not depend on `bridge-hub-westend-integration-tests`
   - No references to these crates found in any Moonbeam Cargo.toml files

2. **Macro Usage:**
   - No usage of `create_pool_with_native_on` macro found in the Moonbeam codebase

3. **Testing Infrastructure:**
   - Moonbeam uses zombienet integration tests (`zombienet/integration-tests/`) for cross-chain testing
   - Moonbeam does not use Polkadot SDK's emulated integration test framework
   - Moonbeam's TypeScript integration tests use the Moonwall framework

4. **Code Search Results:**
   - No matches for `emulated-integration-tests-common` in the codebase
   - No matches for `create_pool_with_native_on` in the codebase
   - No matches for `bridge-hub-westend-integration-tests` (except in other PR analysis documents)

## Required Actions

**None required.** This PR only affects test infrastructure that Moonbeam does not use.

## Recommendations

- No changes needed to the Moonbeam codebase
- No migration required
- No testing required

## Conclusion

PR #8289 has no impact on Moonbeam. The changes are isolated to Polkadot SDK's emulated integration testing framework, which Moonbeam does not utilize. Moonbeam uses its own testing infrastructure (Moonwall for TypeScript tests and zombienet for network integration tests).
