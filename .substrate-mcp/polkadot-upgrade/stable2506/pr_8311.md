# PR #8311: pallet-revive - Update Tracing RPC Methods Parameters

## Overview

**Title:** [pallet-revive] update tracing rpc methods parameters
**PR:** https://github.com/paritytech/polkadot-sdk/pull/8311
**Author:** @pgherveou
**Status:** Merged (Apr 29, 2025)
**Audience:** Runtime Dev

## Summary

This PR enhances the debug tracing RPC methods in pallet-revive to support additional parameters compatible with Geth's tracing API. The updates allow callers to specify:
- `timeout`: Maximum duration for trace execution
- Top-level-only tracing: Option to return traces only for the top-level call, excluding internal calls

## Changes

### Affected Crates
- `pallet-revive`: **major** bump
- `pallet-revive-eth-rpc`: **major** bump

### Technical Details

The RPC methods (debug_trace*) now accept extended parameters that align with Geth's debugging API:
1. **Timeout Parameter**: Prevents trace operations from running indefinitely
2. **Top Call Filtering**: Allows clients to request simplified traces containing only the top-level call, improving performance for scenarios where internal call details are not needed

## Review & Approval

- Approved by: @athei, @castillax
- CI Status: 241 of 252 checks passed
- Merged via merge queue

## Impact Analysis

### Relevance to Moonbeam: LOW

**Context:**
- pallet-revive is a newer smart contract execution framework in Polkadot SDK
- Moonbeam currently uses Frontier (pallet-evm) for Ethereum compatibility, not pallet-revive
- This PR specifically targets pallet-revive's RPC layer

### Breaking Changes

**Major Version Bump:** Both `pallet-revive` and `pallet-revive-eth-rpc` received major version bumps, indicating potential breaking changes to their public APIs.

**Nature of Changes:**
- RPC method parameter updates
- API consumers will need to update their calls to accommodate new optional parameters
- No runtime storage or logic changes indicated

## Sentiment: NEUTRAL

### Positive Aspects
- Improves Ethereum compatibility within the Polkadot SDK ecosystem
- Adds useful debugging capabilities (timeout protection, simplified tracing)
- Aligns with industry-standard tooling (Geth compatibility)
- Shows active development and improvement of contract execution frameworks

### Neutral Aspects
- Not directly applicable to Moonbeam's current architecture
- Moonbeam uses pallet-evm (Frontier), not pallet-revive
- No immediate action required

### Considerations
- Worth monitoring as pallet-revive represents the evolution of smart contract execution in Polkadot SDK
- Could become relevant if Moonbeam evaluates future migration paths
- Demonstrates Polkadot SDK's commitment to Ethereum compatibility across different contract execution approaches

## Action Items

- [ ] **No immediate action required** - Not applicable to current Moonbeam architecture
- [ ] Track pallet-revive development for future architectural considerations
- [ ] Note for documentation: pallet-revive vs pallet-evm distinction in the ecosystem

## Additional Notes

- pallet-revive is designed as a successor to pallet-contracts with improved Ethereum compatibility
- Moonbeam's use of Frontier/pallet-evm follows a different architectural approach
- This PR enhances developer tooling for chains using pallet-revive
- The timeout parameter is a practical safeguard for production RPC nodes
