# PR #8314: Statement Store RPC Enhancement

## Overview
**Title**: Add methods in the statement store RPCs to get the statements and not just the statement data

**PR Link**: https://github.com/paritytech/polkadot-sdk/pull/8314

**Audience**: Node Dev, Runtime Dev

**Status**: Merged on May 5, 2025 (commit db5ee7d)

## Summary
This PR extends the statement store RPC interface to return complete statement objects (including cryptographic signatures/proofs) rather than only the underlying statement data. Previously, statements could contain proofs to verify authenticity, but the RPCs only returned the data portion, requiring developers to either duplicate signatures or sacrifice verification capabilities.

The changes add new RPC methods (`broadcasts_stmt`, `posted_stmt`, `posted_clear_stmt`) that retrieve full statement objects, improving efficiency by eliminating the need to sign data multiple times.

## Changes
### Affected Crates
- `sc-rpc-api` - **major** bump
- `sc-rpc` - **major** bump
- `sc-statement-store` - **major** bump
- `sp-statement-store` - **major** bump

### Technical Details
- Adds new RPC methods to retrieve complete statements with proofs
- Maintains backward compatibility with existing data-only RPCs
- Statement store is entirely off-chain and trust-based
- Light clients cannot verify it trustlessly (must trust the node or run their own)

## Impact on Moonbeam

### Current Usage Analysis
**Direct Dependencies:**
- `sc-rpc` (line 67 in `/Users/manuelmauro/Workspace/moonbeam/node/service/Cargo.toml`)
  - Used for standard Substrate RPC functionality
  - Major bump affects this dependency

**Transitive Dependencies:**
- `sp-statement-store` v20.1.0
  - Present in Cargo.lock as transitive dependency
  - Pulled in through `sp-state-machine`
  - Not directly referenced in any Moonbeam code

**Code Usage:**
```
No direct usage found in Moonbeam codebase:
- Zero references to StatementStore or statement_store in .rs files
- No usage of statement store RPC methods
- No custom statement store implementations
```

### Impact Assessment
**Severity**: MINIMAL

**Breaking Changes**: None for Moonbeam
- While crates have major version bumps, these are API additions
- Moonbeam does not use statement store functionality directly
- Only affected through transitive dependency updates

**Required Actions**: NONE
- No code changes required
- No API migrations needed
- No runtime changes needed
- Dependencies will update automatically through Cargo resolution

### Risk Analysis
**Low Risk** - This is a purely additive change to infrastructure Moonbeam doesn't directly use:
1. Moonbeam does not implement custom statement store logic
2. No RPC handlers rely on statement store methods
3. Statement store is an off-chain, optional feature
4. Changes are backward compatible (new methods added, not modified)

## Recommendations
1. **No immediate action required** - dependency updates will be handled automatically
2. **Testing**: Standard regression testing sufficient, no statement store-specific tests needed
3. **Documentation**: No documentation updates required for Moonbeam
4. **Future consideration**: Statement store functionality remains available if needed for future features

## Related PRs
None directly related to Moonbeam's current functionality.

## Notes
The statement store is an optional off-chain storage mechanism for statements with cryptographic proofs. It is not part of the core blockchain consensus or state machine. Moonbeam's parachain architecture does not currently utilize this feature, making this PR's impact negligible for the project.
