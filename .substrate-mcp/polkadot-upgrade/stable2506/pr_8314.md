# PR #8314: Add RPCs in the statement store to get the statements and not just the statement data

**Impact**: INHERITED
**Confidence**: High
**Affected Components**: None (transitive dependency only)

## Changes Detected

PR #8314 adds new RPC methods to the statement store to retrieve full statements (including proofs and signatures) rather than just statement data. The PR modifies:

- `sc-rpc-api` (major bump)
- `sc-rpc` (major bump)
- `sc-statement-store` (major bump)
- `sp-statement-store` (major bump)

New RPC methods added:
- `broadcasts_stmt`
- `posted_stmt`
- `posted_clear_stmt`

These complement the existing methods that only returned statement data without the cryptographic proofs.

## Project Impact

**No action required.** This change has zero impact on Moonbeam despite the major version bumps.

### Analysis

1. **Statement Store is Not Used**: Moonbeam does not use the statement store functionality at all:
   - No direct dependencies on `sc-statement-store` or `sp-statement-store` in any Cargo.toml
   - Only `sp-statement-store` appears in Cargo.lock as a transitive dependency
   - No references to statement store APIs in the codebase

2. **RPC Implementation**: Moonbeam builds its RPC layer using:
   - Standard Substrate RPCs (System, TransactionPayment) from `sc-rpc`
   - Frontier/EVM RPCs (Eth, EthFilter, Net, Web3, etc.) from `fc-rpc`
   - Custom Moonbeam RPCs (Debug, Trace, MoonbeamFinality, DevRpc)
   - No statement store RPC endpoints are exposed

3. **Statement Store Context**: The statement store is an off-chain, trust-based mechanism primarily intended for relay chain validators and specific use cases. It requires explicit enablement via `--enable-statement-store` flag and is not relevant for parachain collators like Moonbeam.

4. **Version Bumps**: The major version bumps to `sc-rpc-api` and `sc-rpc` are API additions (new RPC methods) that don't affect existing functionality. Moonbeam's usage of these crates is for standard substrate RPCs, which remain unchanged.

## Evidence & References

### Cargo Dependencies Check
```bash
# No direct dependencies found
grep -r "sc-statement-store\|sp-statement-store" node/service/Cargo.toml
# Returns: No matches

# Only transitive dependency
grep -A 5 'name = "sp-statement-store"' Cargo.lock
# Shows: sp-statement-store v21.0.0 (transitive)
```

### Codebase Usage Check
```bash
# No usage in Rust code
rg -l "StatementStore|statement_store" --type rust
# Returns: No matches

# No references to statement store APIs
rg "statement[-_]?store" -i
# Returns: Only in Cargo.lock and prior analysis files
```

### RPC Implementation Review
File: `/Users/manuelmauro/Workspace/moonbeam/node/service/src/rpc.rs`
- Lines 207-355: RPC module construction
- Only standard Substrate RPCs and Frontier RPCs are registered
- No statement store RPC methods exposed

### Node Service Review
File: `/Users/manuelmauro/Workspace/moonbeam/node/service/src/lib.rs`
- Uses `sc-rpc` only for building the RPC module
- No statement store initialization or configuration
- Standard parachain collator setup without statement store features

## Conclusion

The changes in PR #8314 are completely transparent to Moonbeam. The statement store is an optional off-chain feature that Moonbeam does not use. The major version bumps are due to new API additions that don't affect existing code paths. No code changes, testing, or configuration updates are needed.
