# PR #8316: Remove SlashingSpan Logic from pallet-staking-async

## Overview

**Status:** Merged (May 8, 2025)
**Impact Level:** None
**Action Required:** No action required

## Summary

This PR removes the slashing span tracking mechanism from `pallet-staking-async`, simplifying the slashing system by eliminating redundant storage items and logic. The change affects only the relay chain staking pallets and has no impact on Moonbeam.

## Technical Changes

### Removed Storage Items
- `SlashingSpans` - Storage map tracking slashing spans
- `SpanSlash` - Storage map tracking individual span slashes

### Removed Errors
- `IncorrectSlashingSpans` - Error type for invalid slashing span parameters

### Deprecated Parameters
The following extrinsics retain the `num_slashing_spans` parameter for backward compatibility, but it now has no functional effect:
- `withdraw_unbonded`
- `force_unstake`
- `reap_stash`

### Functional Changes to Slashing Rewards

**Previous Behavior:**
- Slashing rewards = 50% of `SlashRewardFraction`
- Successive offenses in the same era caused reward halving (50% → 25% → 12.5%, etc.)

**New Behavior:**
- No successive reward halving
- Only the highest offense per validator/nominator per era is considered
- Slashing reward calculation simplified

## Rationale

The PR author identified that slashing spans were not functioning as originally intended:
1. Slashing spans were always starting and ending during the processing of an offense, preventing them from tracking across multiple eras
2. Validators were never "chilled" (removed from active set), undermining the core purpose of span-based tracking
3. The feature became redundant and overly complex for its limited utility

This change also closes issue #2650 regarding simplification of the staking pallet's slashing mechanisms.

## Impact on Moonbeam

**No Impact** - Moonbeam does not use `pallet-staking` or `pallet-staking-async`.

### Why No Impact

1. **Moonbeam is a Parachain:** Moonbeam operates as a parachain, not a relay chain. Parachains don't have their own validator set using NPoS (Nominated Proof of Stake).

2. **Custom Staking Implementation:** Moonbeam uses `pallet-parachain-staking`, a custom staking pallet designed specifically for parachain collators. This is completely separate from the relay chain staking system.

3. **No Dependencies:** Analysis of Moonbeam's runtime dependencies confirms:
   - No references to `pallet-staking` or `pallet-staking-async` in any runtime
   - No usage of slashing span APIs or storage items
   - Moonbeam's staking logic is entirely self-contained in `pallet-parachain-staking`

### Verification

Searched Moonbeam codebase for:
- `pallet-staking-async` - Only found in analysis documents
- `pallet-staking` - Only found in analysis documents
- `SlashingSpans` - No matches in Moonbeam code
- `withdraw_unbonded` - No matches in Moonbeam code

Confirmed runtime dependencies:
- `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/Cargo.toml` - Uses `pallet-parachain-staking`, no relay chain staking pallets
- `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbeam/Cargo.toml` - Same pattern
- `/Users/manuelmauro/Workspace/moonbeam/runtime/moonriver/Cargo.toml` - Same pattern

## Affected Crates

- `pallet-staking-async` - **major** bump (breaking changes)
- `pallet-staking` - **patch** bump (documentation updates)

## Recommendations

**No Action Required**

This PR only affects relay chain staking functionality. Moonbeam's parachain staking system (`pallet-parachain-staking`) is independent and unaffected by these changes.

## Related Issues

- Closes #2650 - Simplification of staking pallet slashing mechanisms

## References

- PR: https://github.com/paritytech/polkadot-sdk/pull/8316
- PRDoc: `/Users/manuelmauro/.substrate-mcp/moonbeam/releases/stable2506/pr-docs/pr_8316.prdoc`
