# PR #8528: FeeTracker: remove `get_min_fee_factor()`

**Impact**: INHERITED
**Confidence**: High
**Affected Components**: None (automatic through dependency updates)

## Changes Detected

This PR removes the `get_min_fee_factor()` function from the `FeeTracker` trait in XCM bridge-related pallets. The rationale is that "the minimal fee factor should always be 1" according to the PR description.

### Modified Crates
- `pallet-xcm-bridge-hub-router` - major bump
- `cumulus-pallet-parachain-system` - major bump
- `cumulus-pallet-xcmp-queue` - major bump
- `polkadot-runtime-common` - patch bump
- `polkadot-runtime-parachains` - major bump

### Changes Made
- Removed `get_min_fee_factor()` method from the FeeTracker trait
- Updated implementations in bridge router and parachain system pallets
- Simplified fee calculation logic to always use a minimum factor of 1

## Project Impact

**No action required.** This change is automatically inherited through dependency updates.

### Why No Action Needed

1. **No Direct Usage**: Moonbeam does not implement the `FeeTracker` trait or call `get_min_fee_factor()` anywhere in the codebase
   - Search for `get_min_fee_factor` returned no results
   - Search for `FeeTracker` returned no results

2. **Bridge Infrastructure**: While Moonbeam uses bridge infrastructure (`BridgeXcmRouter`), it only acts as a wrapper around `SendXcm`:
   ```rust
   // /Users/manuelmauro/Workspace/moonbeam/runtime/common/src/bridge.rs:37-56
   pub struct BridgeXcmRouter<MessageExporter>(PhantomData<MessageExporter>);

   impl<MessageExporter: SendXcm> SendXcm for BridgeXcmRouter<MessageExporter> {
       type Ticket = MessageExporter::Ticket;

       fn validate(dest: &mut Option<Location>, xcm: &mut Option<Xcm<()>>)
           -> SendResult<Self::Ticket> {
           MessageExporter::validate(dest, xcm)
       }

       fn deliver(ticket: Self::Ticket) -> Result<XcmHash, SendError> {
           MessageExporter::deliver(ticket)
       }
   }
   ```
   The actual fee tracking is done by the underlying `MessageExporter` (which is `LocalExporter` from Polkadot SDK)

3. **Affected Pallets Used**: Moonbeam does use the affected pallets, but only as dependencies:
   - `cumulus-pallet-parachain-system` - used in all three runtimes
   - `cumulus-pallet-xcmp-queue` - used in all three runtimes
   - `polkadot-runtime-common` - used for `NoPriceForMessageDelivery` type only

   These are updated automatically when upgrading to stable2506.

4. **No Custom Bridge Pallets**: Moonbeam doesn't use `pallet-xcm-bridge-hub-router` or implement custom bridge hub logic that would interact with FeeTracker

## Evidence & References

### Codebase Search Results

**No usage of removed function:**
```bash
# Search for get_min_fee_factor
grep -r "get_min_fee_factor" /Users/manuelmauro/Workspace/moonbeam
# Result: No matches found
```

**No FeeTracker implementations:**
```bash
# Search for FeeTracker trait
grep -r "FeeTracker" /Users/manuelmauro/Workspace/moonbeam
# Result: No matches found
```

**Bridge usage is limited to wrapper:**
- `/Users/manuelmauro/Workspace/moonbeam/runtime/common/src/bridge.rs` - Custom `BridgeXcmRouter` wrapper
- `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbeam/src/xcm_config.rs:311` - Used in XcmRouter configuration
- `/Users/manuelmauro/Workspace/moonbeam/runtime/moonriver/src/xcm_config.rs:319` - Used in XcmRouter configuration

**Affected pallets usage:**
```rust
// All runtimes use cumulus-pallet-xcmp-queue for XCMP message delivery
// /Users/manuelmauro/Workspace/moonbeam/runtime/moonbeam/src/xcm_config.rs:81-97
impl cumulus_pallet_xcmp_queue::Config for Runtime {
    type RuntimeEvent = RuntimeEvent;
    type ChannelInfo = ParachainSystem;
    type VersionWrapper = PolkadotXcm;
    type XcmpQueue = TransformOrigin<MessageQueue, AggregateMessageOrigin, ParaId, ParaIdToSibling>;
    type MaxInboundSuspended = sp_core::ConstU32<1_000>;
    type ControllerOrigin = EnsureRoot<AccountId>;
    type ControllerOriginConverter = XcmOriginToTransactDispatchOrigin;
    type WeightInfo = moonbeam_weights::cumulus_pallet_xcmp_queue::WeightInfo<Runtime>;
    type PriceForSiblingDelivery = polkadot_runtime_common::xcm_sender::NoPriceForMessageDelivery<
        cumulus_primitives_core::ParaId,
    >;
    type MaxActiveOutboundChannels = ConstU32<128>;
    type MaxPageSize = MessageQueueHeapSize;
}
```

### Related Issues
- Related to https://github.com/paritytech/polkadot-sdk/issues/8462
- Follow-up for https://github.com/paritytech/polkadot-sdk/pull/8477

## Conclusion

This PR represents an **internal refactoring** of XCM bridge fee tracking logic in Polkadot SDK. The changes are automatically inherited when Moonbeam updates its dependencies to stable2506. No code changes, configuration updates, or migrations are needed in the Moonbeam codebase.

The removal of `get_min_fee_factor()` simplifies the fee tracking logic by enforcing that the minimum fee factor is always 1, but this is an implementation detail internal to the bridge pallets that Moonbeam doesn't directly interact with.
