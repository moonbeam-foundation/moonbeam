# PR #8679: Shared Add ethereum-standards crate

**Impact**: INHERITED
**Confidence**: High
**Affected Components**:
- pallet-assets (test dependencies only)
- pallet-revive (not used by Moonbeam)
- snowbridge pallets (minimal usage)

## Changes Detected

This PR adds a new `ethereum-standards` crate (v0.1.1) to the Polkadot SDK ecosystem. The crate is a foundational library that provides Ethereum standard types and utilities using `alloy-core`, and is intended to be used by:
- PR #7762: ERC20 Asset Transactor for XCM
- PR #8365: ERC20 precompile for pallet-assets

The PR bumps the following crates:
- `ethereum-standards` (new, v0.1.1)
- `pallet-revive` (minor bump)
- `snowbridge-pallet-inbound-queue` (minor bump)
- `snowbridge-inbound-queue-primitives` (minor bump)
- `snowbridge-outbound-queue-primitives` (minor bump)
- `polkadot-sdk` (minor bump)

## Project Impact

**No breaking changes or action required for Moonbeam.**

This PR is purely additive - it introduces a new crate that is consumed by upstream Polkadot SDK pallets. The impact on Moonbeam is inherited through dependency updates:

### 1. pallet-assets (Indirect, Test-Only)
- **Location**: Used in test mocks at `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/tests/xcm_mock/statemint_like.rs:607` and `/Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/tests/xcm_mock/mod.rs:266`
- **Usage**: Simulates Asset Hub (Statemint) behavior in XCM integration tests
- **Impact**: pallet-assets now depends on `ethereum-standards`, but this is transparent to Moonbeam since it's only used in dev-dependencies
- **Evidence**:
  ```toml
  # /Users/manuelmauro/Workspace/moonbeam/runtime/moonbase/Cargo.toml:194
  pallet-assets = { workspace = true }  # in [dev-dependencies]
  ```

### 2. pallet-revive
- **Status**: Present in Cargo.lock but not used by Moonbeam
- **Impact**: None - this is a transitive dependency only
- **Evidence**: No references to pallet-revive in Moonbeam's Cargo.toml files

### 3. snowbridge-core
- **Status**: Present in dependency tree
- **Impact**: Minimal - only `snowbridge-core` is in the dependency tree, and the bumped packages are higher-level pallets
- **Evidence**: Only `snowbridge-core` found in Cargo.lock, not the bumped inbound/outbound queue pallets

### 4. Moonbeam's ERC20 Precompile
- **Location**: `/Users/manuelmauro/Workspace/moonbeam/precompiles/balances-erc20/`
- **Impact**: None currently - does not use `ethereum-standards`
- **Note**: Moonbeam has its own mature ERC20 precompile implementation (`pallet-evm-precompile-balances-erc20`) that predates the new ethereum-standards crate. Future upstream PRs (#7762, #8365) may introduce alternative ERC20 patterns, but Moonbeam can continue using its existing implementation.

## Evidence & References

### Dependency Analysis
```bash
# ethereum-standards is only used by upstream pallets
$ rg '"ethereum-standards"' Cargo.lock -B 10 | rg 'name = "pallet-'
name = "pallet-asset-tx-payment"
name = "pallet-assets"
name = "pallet-revive"
```

### Moonbeam Usage of Affected Crates
```bash
# pallet-assets only in test dependencies
$ rg 'pallet.assets' runtime/moonbase/src/lib.rs
1442:		// [Removed] Assets: pallet_assets::{Pallet, Call, Storage, Event<T>} = 29,
1449:		// Previously 36: pallet_assets::<Instance1>

# pallet-assets used in XCM mock tests
$ rg 'Assets.*pallet_assets' runtime/moonbase/tests/xcm_mock/
statemint_like.rs:607:		Assets: pallet_assets,
mod.rs:266:pub type StatemintAssets = pallet_assets::Pallet<statemint_like::Runtime>;
```

### Cargo.lock Analysis
```
[[package]]
name = "ethereum-standards"
version = "0.1.1"
source = "git+https://github.com/moonbeam-foundation/polkadot-sdk?branch=moonbeam-polkadot-stable2506#4f1bceaa883a82b84df411b9081dcc7b09ab7a7e"
dependencies = [
 "alloy-core",
]
```

## Conclusion

This PR requires **no action** from Moonbeam. The new `ethereum-standards` crate is a foundational addition that will be used by future Polkadot SDK features (particularly around ERC20 support in pallet-assets and pallet-revive). The dependency changes are automatically inherited through the stable2506 upgrade.

Moonbeam's existing ERC20 precompile implementation (`/Users/manuelmauro/Workspace/moonbeam/precompiles/balances-erc20/`) is independent and unaffected. The project can continue using its current implementation or optionally evaluate the new upstream ERC20 patterns once PRs #7762 and #8365 are merged and stable.

**Recommendation**: Monitor PRs #7762 (ERC20 Asset Transactor) and #8365 (ERC20 precompile for pallet-assets) for potential future improvements or patterns that could be adopted in Moonbeam's custom precompiles.
