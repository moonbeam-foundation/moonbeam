# Chopsticks configuration for Moonbeam fork
# Used for testing XCM Transactor with custom runtime

# Fork from live Moonbeam
endpoint: wss://wss.api.moonbeam.network

# Enable mock signature mode
mock-signature-host: true

# Store blockchain state
db: ./tmp/db-moonbeam.db

# Port for this fork
port: 8000

# Import custom storage
import-storage:
  System:
    Account:
      # Fund Alith (0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac)
      - - ["0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac"]
        - providers: 1
          data:
            free: "100000000000000000000" # 100 GLMR (18 decimals) - use string for large numbers
            reserved: "0"
            miscFrozen: "0"
            feeFrozen: "0"

  # Register a derivative account for Alith (index 0)
  XcmTransactor:
    IndexToAccount:
      - - [0] # index
        - "0xf24FF3a9CF04c71Dbc94D0b566f7A27B94566cac" # owner

    # Set up the old RelayIndices storage to test migration
    # These are the actual values from live Moonbeam mainnet
    RelayIndices:
      staking: 7
      utility: 26
      hrmp: 60
      bond: 0
      bondExtra: 1
      unbond: 2
      withdrawUnbonded: 3
      validate: 4
      nominate: 5
      chill: 6
      setPayee: 7
      setController: 8
      rebond: 19
      asDerivative: 1
      initOpenChannel: 0
      acceptOpenChannel: 1
      closeChannel: 2
      cancelOpenRequest: 6

# Override runtime with your compiled WASM
# Uncomment and update path when testing your changes
wasm-override: ../../target/release/wbuild/moonbeam-runtime/moonbeam_runtime.wasm
