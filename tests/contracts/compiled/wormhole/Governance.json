{
  "byteCode": "0x",
  "contract": {
    "abi": [
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "address",
            "name": "previousAdmin",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "address",
            "name": "newAdmin",
            "type": "address"
          }
        ],
        "name": "AdminChanged",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "address",
            "name": "beacon",
            "type": "address"
          }
        ],
        "name": "BeaconUpgraded",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "address",
            "name": "oldContract",
            "type": "address"
          },
          {
            "indexed": true,
            "internalType": "address",
            "name": "newContract",
            "type": "address"
          }
        ],
        "name": "ContractUpgraded",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "address",
            "name": "expected",
            "type": "address"
          },
          {
            "indexed": true,
            "internalType": "address",
            "name": "retrieved",
            "type": "address"
          }
        ],
        "name": "FailedSignature",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "uint32",
            "name": "index",
            "type": "uint32"
          }
        ],
        "name": "GuardianSetAdded",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "address",
            "name": "implementation",
            "type": "address"
          }
        ],
        "name": "Upgraded",
        "type": "event"
      },
      {
        "inputs": [],
        "name": "chainId",
        "outputs": [{ "internalType": "uint16", "name": "", "type": "uint16" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "evmChainId",
        "outputs": [
          { "internalType": "uint256", "name": "", "type": "uint256" }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "getCurrentGuardianSetIndex",
        "outputs": [{ "internalType": "uint32", "name": "", "type": "uint32" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "uint32", "name": "index", "type": "uint32" }
        ],
        "name": "getGuardianSet",
        "outputs": [
          {
            "components": [
              {
                "internalType": "address[]",
                "name": "keys",
                "type": "address[]"
              },
              {
                "internalType": "uint32",
                "name": "expirationTime",
                "type": "uint32"
              }
            ],
            "internalType": "struct Structs.GuardianSet",
            "name": "",
            "type": "tuple"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "getGuardianSetExpiry",
        "outputs": [{ "internalType": "uint32", "name": "", "type": "uint32" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "bytes32", "name": "hash", "type": "bytes32" }
        ],
        "name": "governanceActionIsConsumed",
        "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "governanceChainId",
        "outputs": [{ "internalType": "uint16", "name": "", "type": "uint16" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "governanceContract",
        "outputs": [
          { "internalType": "bytes32", "name": "", "type": "bytes32" }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "isFork",
        "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "address", "name": "impl", "type": "address" }
        ],
        "name": "isInitialized",
        "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "messageFee",
        "outputs": [
          { "internalType": "uint256", "name": "", "type": "uint256" }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "address", "name": "emitter", "type": "address" }
        ],
        "name": "nextSequence",
        "outputs": [{ "internalType": "uint64", "name": "", "type": "uint64" }],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "bytes", "name": "encodedVM", "type": "bytes" }
        ],
        "name": "parseAndVerifyVM",
        "outputs": [
          {
            "components": [
              { "internalType": "uint8", "name": "version", "type": "uint8" },
              {
                "internalType": "uint32",
                "name": "timestamp",
                "type": "uint32"
              },
              { "internalType": "uint32", "name": "nonce", "type": "uint32" },
              {
                "internalType": "uint16",
                "name": "emitterChainId",
                "type": "uint16"
              },
              {
                "internalType": "bytes32",
                "name": "emitterAddress",
                "type": "bytes32"
              },
              {
                "internalType": "uint64",
                "name": "sequence",
                "type": "uint64"
              },
              {
                "internalType": "uint8",
                "name": "consistencyLevel",
                "type": "uint8"
              },
              { "internalType": "bytes", "name": "payload", "type": "bytes" },
              {
                "internalType": "uint32",
                "name": "guardianSetIndex",
                "type": "uint32"
              },
              {
                "components": [
                  { "internalType": "bytes32", "name": "r", "type": "bytes32" },
                  { "internalType": "bytes32", "name": "s", "type": "bytes32" },
                  { "internalType": "uint8", "name": "v", "type": "uint8" },
                  {
                    "internalType": "uint8",
                    "name": "guardianIndex",
                    "type": "uint8"
                  }
                ],
                "internalType": "struct Structs.Signature[]",
                "name": "signatures",
                "type": "tuple[]"
              },
              { "internalType": "bytes32", "name": "hash", "type": "bytes32" }
            ],
            "internalType": "struct Structs.VM",
            "name": "vm",
            "type": "tuple"
          },
          { "internalType": "bool", "name": "valid", "type": "bool" },
          { "internalType": "string", "name": "reason", "type": "string" }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "bytes", "name": "encodedUpgrade", "type": "bytes" }
        ],
        "name": "parseContractUpgrade",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "module",
                "type": "bytes32"
              },
              { "internalType": "uint8", "name": "action", "type": "uint8" },
              { "internalType": "uint16", "name": "chain", "type": "uint16" },
              {
                "internalType": "address",
                "name": "newContract",
                "type": "address"
              }
            ],
            "internalType": "struct GovernanceStructs.ContractUpgrade",
            "name": "cu",
            "type": "tuple"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "bytes", "name": "encodedUpgrade", "type": "bytes" }
        ],
        "name": "parseGuardianSetUpgrade",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "module",
                "type": "bytes32"
              },
              { "internalType": "uint8", "name": "action", "type": "uint8" },
              { "internalType": "uint16", "name": "chain", "type": "uint16" },
              {
                "components": [
                  {
                    "internalType": "address[]",
                    "name": "keys",
                    "type": "address[]"
                  },
                  {
                    "internalType": "uint32",
                    "name": "expirationTime",
                    "type": "uint32"
                  }
                ],
                "internalType": "struct Structs.GuardianSet",
                "name": "newGuardianSet",
                "type": "tuple"
              },
              {
                "internalType": "uint32",
                "name": "newGuardianSetIndex",
                "type": "uint32"
              }
            ],
            "internalType": "struct GovernanceStructs.GuardianSetUpgrade",
            "name": "gsu",
            "type": "tuple"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes",
            "name": "encodedRecoverChainId",
            "type": "bytes"
          }
        ],
        "name": "parseRecoverChainId",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "module",
                "type": "bytes32"
              },
              { "internalType": "uint8", "name": "action", "type": "uint8" },
              {
                "internalType": "uint256",
                "name": "evmChainId",
                "type": "uint256"
              },
              {
                "internalType": "uint16",
                "name": "newChainId",
                "type": "uint16"
              }
            ],
            "internalType": "struct GovernanceStructs.RecoverChainId",
            "name": "rci",
            "type": "tuple"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes",
            "name": "encodedSetMessageFee",
            "type": "bytes"
          }
        ],
        "name": "parseSetMessageFee",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "module",
                "type": "bytes32"
              },
              { "internalType": "uint8", "name": "action", "type": "uint8" },
              { "internalType": "uint16", "name": "chain", "type": "uint16" },
              {
                "internalType": "uint256",
                "name": "messageFee",
                "type": "uint256"
              }
            ],
            "internalType": "struct GovernanceStructs.SetMessageFee",
            "name": "smf",
            "type": "tuple"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes",
            "name": "encodedTransferFees",
            "type": "bytes"
          }
        ],
        "name": "parseTransferFees",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "module",
                "type": "bytes32"
              },
              { "internalType": "uint8", "name": "action", "type": "uint8" },
              { "internalType": "uint16", "name": "chain", "type": "uint16" },
              {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
              },
              {
                "internalType": "bytes32",
                "name": "recipient",
                "type": "bytes32"
              }
            ],
            "internalType": "struct GovernanceStructs.TransferFees",
            "name": "tf",
            "type": "tuple"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "bytes", "name": "encodedVM", "type": "bytes" }
        ],
        "name": "parseVM",
        "outputs": [
          {
            "components": [
              { "internalType": "uint8", "name": "version", "type": "uint8" },
              {
                "internalType": "uint32",
                "name": "timestamp",
                "type": "uint32"
              },
              { "internalType": "uint32", "name": "nonce", "type": "uint32" },
              {
                "internalType": "uint16",
                "name": "emitterChainId",
                "type": "uint16"
              },
              {
                "internalType": "bytes32",
                "name": "emitterAddress",
                "type": "bytes32"
              },
              {
                "internalType": "uint64",
                "name": "sequence",
                "type": "uint64"
              },
              {
                "internalType": "uint8",
                "name": "consistencyLevel",
                "type": "uint8"
              },
              { "internalType": "bytes", "name": "payload", "type": "bytes" },
              {
                "internalType": "uint32",
                "name": "guardianSetIndex",
                "type": "uint32"
              },
              {
                "components": [
                  { "internalType": "bytes32", "name": "r", "type": "bytes32" },
                  { "internalType": "bytes32", "name": "s", "type": "bytes32" },
                  { "internalType": "uint8", "name": "v", "type": "uint8" },
                  {
                    "internalType": "uint8",
                    "name": "guardianIndex",
                    "type": "uint8"
                  }
                ],
                "internalType": "struct Structs.Signature[]",
                "name": "signatures",
                "type": "tuple[]"
              },
              { "internalType": "bytes32", "name": "hash", "type": "bytes32" }
            ],
            "internalType": "struct Structs.VM",
            "name": "vm",
            "type": "tuple"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "numGuardians",
            "type": "uint256"
          }
        ],
        "name": "quorum",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "numSignaturesRequiredForQuorum",
            "type": "uint256"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [{ "internalType": "bytes", "name": "_vm", "type": "bytes" }],
        "name": "submitContractUpgrade",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [{ "internalType": "bytes", "name": "_vm", "type": "bytes" }],
        "name": "submitNewGuardianSet",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [{ "internalType": "bytes", "name": "_vm", "type": "bytes" }],
        "name": "submitRecoverChainId",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [{ "internalType": "bytes", "name": "_vm", "type": "bytes" }],
        "name": "submitSetMessageFee",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [{ "internalType": "bytes", "name": "_vm", "type": "bytes" }],
        "name": "submitTransferFees",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          { "internalType": "bytes32", "name": "hash", "type": "bytes32" },
          {
            "components": [
              { "internalType": "bytes32", "name": "r", "type": "bytes32" },
              { "internalType": "bytes32", "name": "s", "type": "bytes32" },
              { "internalType": "uint8", "name": "v", "type": "uint8" },
              {
                "internalType": "uint8",
                "name": "guardianIndex",
                "type": "uint8"
              }
            ],
            "internalType": "struct Structs.Signature[]",
            "name": "signatures",
            "type": "tuple[]"
          },
          {
            "components": [
              {
                "internalType": "address[]",
                "name": "keys",
                "type": "address[]"
              },
              {
                "internalType": "uint32",
                "name": "expirationTime",
                "type": "uint32"
              }
            ],
            "internalType": "struct Structs.GuardianSet",
            "name": "guardianSet",
            "type": "tuple"
          }
        ],
        "name": "verifySignatures",
        "outputs": [
          { "internalType": "bool", "name": "valid", "type": "bool" },
          { "internalType": "string", "name": "reason", "type": "string" }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          {
            "components": [
              { "internalType": "uint8", "name": "version", "type": "uint8" },
              {
                "internalType": "uint32",
                "name": "timestamp",
                "type": "uint32"
              },
              { "internalType": "uint32", "name": "nonce", "type": "uint32" },
              {
                "internalType": "uint16",
                "name": "emitterChainId",
                "type": "uint16"
              },
              {
                "internalType": "bytes32",
                "name": "emitterAddress",
                "type": "bytes32"
              },
              {
                "internalType": "uint64",
                "name": "sequence",
                "type": "uint64"
              },
              {
                "internalType": "uint8",
                "name": "consistencyLevel",
                "type": "uint8"
              },
              { "internalType": "bytes", "name": "payload", "type": "bytes" },
              {
                "internalType": "uint32",
                "name": "guardianSetIndex",
                "type": "uint32"
              },
              {
                "components": [
                  { "internalType": "bytes32", "name": "r", "type": "bytes32" },
                  { "internalType": "bytes32", "name": "s", "type": "bytes32" },
                  { "internalType": "uint8", "name": "v", "type": "uint8" },
                  {
                    "internalType": "uint8",
                    "name": "guardianIndex",
                    "type": "uint8"
                  }
                ],
                "internalType": "struct Structs.Signature[]",
                "name": "signatures",
                "type": "tuple[]"
              },
              { "internalType": "bytes32", "name": "hash", "type": "bytes32" }
            ],
            "internalType": "struct Structs.VM",
            "name": "vm",
            "type": "tuple"
          }
        ],
        "name": "verifyVM",
        "outputs": [
          { "internalType": "bool", "name": "valid", "type": "bool" },
          { "internalType": "string", "name": "reason", "type": "string" }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ],
    "devdoc": {
      "details": "`Governance` defines a means to enacting changes to the core bridge contract, guardianSets, message fees, and transfer fees",
      "events": {
        "AdminChanged(address,address)": {
          "details": "Emitted when the admin account has changed."
        },
        "BeaconUpgraded(address)": {
          "details": "Emitted when the beacon is upgraded."
        },
        "Upgraded(address)": {
          "details": "Emitted when the implementation is upgraded."
        }
      },
      "kind": "dev",
      "methods": {
        "parseAndVerifyVM(bytes)": {
          "details": "parseAndVerifyVM serves to parse an encodedVM and wholy validate it for consumption"
        },
        "parseContractUpgrade(bytes)": {
          "details": "Parse a contract upgrade (action 1) with minimal validation"
        },
        "parseGuardianSetUpgrade(bytes)": {
          "details": "Parse a guardianSet upgrade (action 2) with minimal validation"
        },
        "parseRecoverChainId(bytes)": {
          "details": "Parse a recoverChainId (action 5) with minimal validation"
        },
        "parseSetMessageFee(bytes)": {
          "details": "Parse a setMessageFee (action 3) with minimal validation"
        },
        "parseTransferFees(bytes)": {
          "details": "Parse a transferFees (action 4) with minimal validation"
        },
        "parseVM(bytes)": {
          "details": "parseVM serves to parse an encodedVM into a vm struct  - it intentionally performs no validation functions, it simply parses raw into a struct"
        },
        "quorum(uint256)": {
          "details": "quorum serves solely to determine the number of signatures required to acheive quorum"
        },
        "submitContractUpgrade(bytes)": {
          "details": "Upgrades a contract via Governance VAA/VM"
        },
        "submitNewGuardianSet(bytes)": {
          "details": "Deploys a new `guardianSet` via Governance VAA/VM"
        },
        "submitRecoverChainId(bytes)": {
          "details": "Updates the `chainId` and `evmChainId` on a forked chain via Governance VAA/VM"
        },
        "submitSetMessageFee(bytes)": {
          "details": "Sets a `messageFee` via Governance VAA/VM"
        },
        "submitTransferFees(bytes)": {
          "details": "Submits transfer fees to the recipient via Governance VAA/VM"
        },
        "verifySignatures(bytes32,(bytes32,bytes32,uint8,uint8)[],(address[],uint32))": {
          "details": "verifySignatures serves to validate arbitrary sigatures against an arbitrary guardianSet  - it intentionally does not solve for expectations within guardianSet (you should use verifyVM if you need these protections)  - it intentioanlly does not solve for quorum (you should use verifyVM if you need these protections)  - it intentionally returns true when signatures is an empty set (you should use verifyVM if you need these protections)"
        },
        "verifyVM((uint8,uint32,uint32,uint16,bytes32,uint64,uint8,bytes,uint32,(bytes32,bytes32,uint8,uint8)[],bytes32))": {
          "details": "`verifyVM` serves to validate an arbitrary vm against a valid Guardian set  - it aims to make sure the VM is for a known guardianSet  - it aims to ensure the guardianSet is not expired  - it aims to ensure the VM has reached quorum  - it aims to verify the signatures provided against the guardianSet  - it aims to verify the hash field provided against the contents of the vm"
        }
      },
      "version": 1
    },
    "evm": {
      "assembly": "",
      "bytecode": {
        "functionDebugData": {},
        "generatedSources": [],
        "linkReferences": {},
        "object": "",
        "opcodes": "",
        "sourceMap": ""
      },
      "deployedBytecode": {
        "functionDebugData": {},
        "generatedSources": [],
        "immutableReferences": {},
        "linkReferences": {},
        "object": "",
        "opcodes": "",
        "sourceMap": ""
      },
      "gasEstimates": null,
      "legacyAssembly": null,
      "methodIdentifiers": {
        "chainId()": "9a8a0592",
        "evmChainId()": "64d42b17",
        "getCurrentGuardianSetIndex()": "1cfe7951",
        "getGuardianSet(uint32)": "f951975a",
        "getGuardianSetExpiry()": "eb8d3f12",
        "governanceActionIsConsumed(bytes32)": "2c3c02a4",
        "governanceChainId()": "fbe3c2cd",
        "governanceContract()": "b172b222",
        "isFork()": "e039f224",
        "isInitialized(address)": "d60b347f",
        "messageFee()": "1a90a219",
        "nextSequence(address)": "4cf842b5",
        "parseAndVerifyVM(bytes)": "c0fd8bde",
        "parseContractUpgrade(bytes)": "4fdc60fa",
        "parseGuardianSetUpgrade(bytes)": "04ca84cf",
        "parseRecoverChainId(bytes)": "cb4cfea8",
        "parseSetMessageFee(bytes)": "515f3247",
        "parseTransferFees(bytes)": "0319e59c",
        "parseVM(bytes)": "a9e11893",
        "quorum(uint256)": "f8ce560a",
        "submitContractUpgrade(bytes)": "5cb8cae2",
        "submitNewGuardianSet(bytes)": "6606b4e0",
        "submitRecoverChainId(bytes)": "178149e7",
        "submitSetMessageFee(bytes)": "f42bc641",
        "submitTransferFees(bytes)": "93df337e",
        "verifySignatures(bytes32,(bytes32,bytes32,uint8,uint8)[],(address[],uint32))": "a0cce1b3",
        "verifyVM((uint8,uint32,uint32,uint16,bytes32,uint64,uint8,bytes,uint32,(bytes32,bytes32,uint8,uint8)[],bytes32))": "875be02a"
      }
    },
    "ewasm": { "wasm": "" },
    "metadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"previousAdmin\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"AdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"beacon\",\"type\":\"address\"}],\"name\":\"BeaconUpgraded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldContract\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newContract\",\"type\":\"address\"}],\"name\":\"ContractUpgraded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"expected\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"retrieved\",\"type\":\"address\"}],\"name\":\"FailedSignature\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"index\",\"type\":\"uint32\"}],\"name\":\"GuardianSetAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"implementation\",\"type\":\"address\"}],\"name\":\"Upgraded\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"chainId\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"evmChainId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentGuardianSetIndex\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"index\",\"type\":\"uint32\"}],\"name\":\"getGuardianSet\",\"outputs\":[{\"components\":[{\"internalType\":\"address[]\",\"name\":\"keys\",\"type\":\"address[]\"},{\"internalType\":\"uint32\",\"name\":\"expirationTime\",\"type\":\"uint32\"}],\"internalType\":\"struct Structs.GuardianSet\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getGuardianSetExpiry\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"governanceActionIsConsumed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governanceChainId\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governanceContract\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isFork\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"impl\",\"type\":\"address\"}],\"name\":\"isInitialized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"messageFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"emitter\",\"type\":\"address\"}],\"name\":\"nextSequence\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"\",\"type\":\"uint64\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encodedVM\",\"type\":\"bytes\"}],\"name\":\"parseAndVerifyVM\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"version\",\"type\":\"uint8\"},{\"internalType\":\"uint32\",\"name\":\"timestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"nonce\",\"type\":\"uint32\"},{\"internalType\":\"uint16\",\"name\":\"emitterChainId\",\"type\":\"uint16\"},{\"internalType\":\"bytes32\",\"name\":\"emitterAddress\",\"type\":\"bytes32\"},{\"internalType\":\"uint64\",\"name\":\"sequence\",\"type\":\"uint64\"},{\"internalType\":\"uint8\",\"name\":\"consistencyLevel\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"payload\",\"type\":\"bytes\"},{\"internalType\":\"uint32\",\"name\":\"guardianSetIndex\",\"type\":\"uint32\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"guardianIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct Structs.Signature[]\",\"name\":\"signatures\",\"type\":\"tuple[]\"},{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"internalType\":\"struct Structs.VM\",\"name\":\"vm\",\"type\":\"tuple\"},{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encodedUpgrade\",\"type\":\"bytes\"}],\"name\":\"parseContractUpgrade\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"module\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"uint16\",\"name\":\"chain\",\"type\":\"uint16\"},{\"internalType\":\"address\",\"name\":\"newContract\",\"type\":\"address\"}],\"internalType\":\"struct GovernanceStructs.ContractUpgrade\",\"name\":\"cu\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encodedUpgrade\",\"type\":\"bytes\"}],\"name\":\"parseGuardianSetUpgrade\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"module\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"uint16\",\"name\":\"chain\",\"type\":\"uint16\"},{\"components\":[{\"internalType\":\"address[]\",\"name\":\"keys\",\"type\":\"address[]\"},{\"internalType\":\"uint32\",\"name\":\"expirationTime\",\"type\":\"uint32\"}],\"internalType\":\"struct Structs.GuardianSet\",\"name\":\"newGuardianSet\",\"type\":\"tuple\"},{\"internalType\":\"uint32\",\"name\":\"newGuardianSetIndex\",\"type\":\"uint32\"}],\"internalType\":\"struct GovernanceStructs.GuardianSetUpgrade\",\"name\":\"gsu\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encodedRecoverChainId\",\"type\":\"bytes\"}],\"name\":\"parseRecoverChainId\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"module\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"evmChainId\",\"type\":\"uint256\"},{\"internalType\":\"uint16\",\"name\":\"newChainId\",\"type\":\"uint16\"}],\"internalType\":\"struct GovernanceStructs.RecoverChainId\",\"name\":\"rci\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encodedSetMessageFee\",\"type\":\"bytes\"}],\"name\":\"parseSetMessageFee\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"module\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"uint16\",\"name\":\"chain\",\"type\":\"uint16\"},{\"internalType\":\"uint256\",\"name\":\"messageFee\",\"type\":\"uint256\"}],\"internalType\":\"struct GovernanceStructs.SetMessageFee\",\"name\":\"smf\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encodedTransferFees\",\"type\":\"bytes\"}],\"name\":\"parseTransferFees\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"module\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"uint16\",\"name\":\"chain\",\"type\":\"uint16\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"recipient\",\"type\":\"bytes32\"}],\"internalType\":\"struct GovernanceStructs.TransferFees\",\"name\":\"tf\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encodedVM\",\"type\":\"bytes\"}],\"name\":\"parseVM\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"version\",\"type\":\"uint8\"},{\"internalType\":\"uint32\",\"name\":\"timestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"nonce\",\"type\":\"uint32\"},{\"internalType\":\"uint16\",\"name\":\"emitterChainId\",\"type\":\"uint16\"},{\"internalType\":\"bytes32\",\"name\":\"emitterAddress\",\"type\":\"bytes32\"},{\"internalType\":\"uint64\",\"name\":\"sequence\",\"type\":\"uint64\"},{\"internalType\":\"uint8\",\"name\":\"consistencyLevel\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"payload\",\"type\":\"bytes\"},{\"internalType\":\"uint32\",\"name\":\"guardianSetIndex\",\"type\":\"uint32\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"guardianIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct Structs.Signature[]\",\"name\":\"signatures\",\"type\":\"tuple[]\"},{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"internalType\":\"struct Structs.VM\",\"name\":\"vm\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"numGuardians\",\"type\":\"uint256\"}],\"name\":\"quorum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"numSignaturesRequiredForQuorum\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_vm\",\"type\":\"bytes\"}],\"name\":\"submitContractUpgrade\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_vm\",\"type\":\"bytes\"}],\"name\":\"submitNewGuardianSet\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_vm\",\"type\":\"bytes\"}],\"name\":\"submitRecoverChainId\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_vm\",\"type\":\"bytes\"}],\"name\":\"submitSetMessageFee\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_vm\",\"type\":\"bytes\"}],\"name\":\"submitTransferFees\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"guardianIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct Structs.Signature[]\",\"name\":\"signatures\",\"type\":\"tuple[]\"},{\"components\":[{\"internalType\":\"address[]\",\"name\":\"keys\",\"type\":\"address[]\"},{\"internalType\":\"uint32\",\"name\":\"expirationTime\",\"type\":\"uint32\"}],\"internalType\":\"struct Structs.GuardianSet\",\"name\":\"guardianSet\",\"type\":\"tuple\"}],\"name\":\"verifySignatures\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"version\",\"type\":\"uint8\"},{\"internalType\":\"uint32\",\"name\":\"timestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"nonce\",\"type\":\"uint32\"},{\"internalType\":\"uint16\",\"name\":\"emitterChainId\",\"type\":\"uint16\"},{\"internalType\":\"bytes32\",\"name\":\"emitterAddress\",\"type\":\"bytes32\"},{\"internalType\":\"uint64\",\"name\":\"sequence\",\"type\":\"uint64\"},{\"internalType\":\"uint8\",\"name\":\"consistencyLevel\",\"type\":\"uint8\"},{\"internalType\":\"bytes\",\"name\":\"payload\",\"type\":\"bytes\"},{\"internalType\":\"uint32\",\"name\":\"guardianSetIndex\",\"type\":\"uint32\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"guardianIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct Structs.Signature[]\",\"name\":\"signatures\",\"type\":\"tuple[]\"},{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"internalType\":\"struct Structs.VM\",\"name\":\"vm\",\"type\":\"tuple\"}],\"name\":\"verifyVM\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"`Governance` defines a means to enacting changes to the core bridge contract, guardianSets, message fees, and transfer fees\",\"events\":{\"AdminChanged(address,address)\":{\"details\":\"Emitted when the admin account has changed.\"},\"BeaconUpgraded(address)\":{\"details\":\"Emitted when the beacon is upgraded.\"},\"Upgraded(address)\":{\"details\":\"Emitted when the implementation is upgraded.\"}},\"kind\":\"dev\",\"methods\":{\"parseAndVerifyVM(bytes)\":{\"details\":\"parseAndVerifyVM serves to parse an encodedVM and wholy validate it for consumption\"},\"parseContractUpgrade(bytes)\":{\"details\":\"Parse a contract upgrade (action 1) with minimal validation\"},\"parseGuardianSetUpgrade(bytes)\":{\"details\":\"Parse a guardianSet upgrade (action 2) with minimal validation\"},\"parseRecoverChainId(bytes)\":{\"details\":\"Parse a recoverChainId (action 5) with minimal validation\"},\"parseSetMessageFee(bytes)\":{\"details\":\"Parse a setMessageFee (action 3) with minimal validation\"},\"parseTransferFees(bytes)\":{\"details\":\"Parse a transferFees (action 4) with minimal validation\"},\"parseVM(bytes)\":{\"details\":\"parseVM serves to parse an encodedVM into a vm struct  - it intentionally performs no validation functions, it simply parses raw into a struct\"},\"quorum(uint256)\":{\"details\":\"quorum serves solely to determine the number of signatures required to acheive quorum\"},\"submitContractUpgrade(bytes)\":{\"details\":\"Upgrades a contract via Governance VAA/VM\"},\"submitNewGuardianSet(bytes)\":{\"details\":\"Deploys a new `guardianSet` via Governance VAA/VM\"},\"submitRecoverChainId(bytes)\":{\"details\":\"Updates the `chainId` and `evmChainId` on a forked chain via Governance VAA/VM\"},\"submitSetMessageFee(bytes)\":{\"details\":\"Sets a `messageFee` via Governance VAA/VM\"},\"submitTransferFees(bytes)\":{\"details\":\"Submits transfer fees to the recipient via Governance VAA/VM\"},\"verifySignatures(bytes32,(bytes32,bytes32,uint8,uint8)[],(address[],uint32))\":{\"details\":\"verifySignatures serves to validate arbitrary sigatures against an arbitrary guardianSet  - it intentionally does not solve for expectations within guardianSet (you should use verifyVM if you need these protections)  - it intentioanlly does not solve for quorum (you should use verifyVM if you need these protections)  - it intentionally returns true when signatures is an empty set (you should use verifyVM if you need these protections)\"},\"verifyVM((uint8,uint32,uint32,uint16,bytes32,uint64,uint8,bytes,uint32,(bytes32,bytes32,uint8,uint8)[],bytes32))\":{\"details\":\"`verifyVM` serves to validate an arbitrary vm against a valid Guardian set  - it aims to make sure the VM is for a known guardianSet  - it aims to ensure the guardianSet is not expired  - it aims to ensure the VM has reached quorum  - it aims to verify the signatures provided against the guardianSet  - it aims to verify the hash field provided against the contents of the vm\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"Governance.sol\":\"Governance\"},\"debug\":{\"revertStrings\":\"debug\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/interfaces/draft-IERC1822.sol\":{\"keccak256\":\"0x1d4afe6cb24200cc4545eed814ecf5847277dfe5d613a1707aad5fceecebcfff\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://383fb7b8181016ac5ccf07bc9cdb7c1b5045ea36e2cc4df52bcbf20396fc7688\",\"dweb:/ipfs/QmYJ7Cg4WmE3rR8KGQxjUCXFfTH6TcwZ2Z1f6tPrq7jHFr\"]},\"@openzeppelin/contracts/proxy/ERC1967/ERC1967Upgrade.sol\":{\"keccak256\":\"0xabf3f59bc0e5423eae45e459dbe92e7052c6983628d39008590edc852a62f94a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://89c2a0f70157c13845be5cb49b078a6374fee3a78fa950052a3af26190255da8\",\"dweb:/ipfs/QmUcvMEQH1oMM2pUyMuDiBUKdvvnTz1NRB8bmPHrVq8725\"]},\"@openzeppelin/contracts/proxy/beacon/IBeacon.sol\":{\"keccak256\":\"0xd50a3421ac379ccb1be435fa646d66a65c986b4924f0849839f08692f39dde61\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ada1e030c0231db8d143b44ce92b4d1158eedb087880cad6d8cc7bd7ebe7b354\",\"dweb:/ipfs/QmWZ2NHZweRpz1U9GF6R1h65ri76dnX7fNxLBeM2t5N5Ce\"]},\"@openzeppelin/contracts/utils/Address.sol\":{\"keccak256\":\"0xf96f969e24029d43d0df89e59d365f277021dac62b48e1c1e3ebe0acdd7f1ca1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ec772b45a624be516f1c81970caa8a2e144301e9d0921cbc1a2789fef39a1269\",\"dweb:/ipfs/QmNyjwxCrGhQMyzLD93oUobJXVe9ceJvRvfXwbEtuxPiEj\"]},\"@openzeppelin/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xd5c50c54bf02740ebd122ff06832546cb5fa84486d52695a9ccfd11666e0c81d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://39e096c60a6eb1c6a257122d515496bd92d0c6a693a8f07acb6aa4b1263e95d4\",\"dweb:/ipfs/QmPs5trJBacCiSkezP6tpevapuRYWNY6mqSFzsMCJj7e6B\"]},\"Getters.sol\":{\"keccak256\":\"0x5a725b038bb92c981d20d501623194a9f787e5a69b15d64509293356c96d829e\",\"license\":\"Apache 2\",\"urls\":[\"bzz-raw://d7143b8f62c85af4e0c8c38133221827ded9784005428680947a05c76d23221f\",\"dweb:/ipfs/QmXyUMHqjcZ2uE2oHDPYfMHxb85P4zUrZN2MmFWdg2u9Di\"]},\"Governance.sol\":{\"keccak256\":\"0xbcc72896cbe67f8f507f0fe73cfb54bda7ba3cc63f35e32610f7e652aac6ecc1\",\"license\":\"Apache 2\",\"urls\":[\"bzz-raw://7e21c66c715ae01731f12ea62833f2a6ea7f0f2e45e629a6d13d3a1d940a058a\",\"dweb:/ipfs/Qmaqd6Wbwp4ZMDVa7XCHCkJAQK67wHEoUSbLubRxczrpuZ\"]},\"GovernanceStructs.sol\":{\"keccak256\":\"0x939328beb29604eb15900dd8a587b8da1e1632c27ec25d5392cf14ba47c11522\",\"license\":\"Apache 2\",\"urls\":[\"bzz-raw://1722efe494b5bc95d52e41f72b70fe3a2c69acfd32fd936ba095571ac5e2e6ca\",\"dweb:/ipfs/QmNwLSPsfxnBAgpcuC4MoKJQhxzxKv3dHZMbNw5XcqREnE\"]},\"Messages.sol\":{\"keccak256\":\"0x4f23df38ed57741de6858748f59a53c0b25bf3a3265606a191e4af017cb536af\",\"license\":\"Apache 2\",\"urls\":[\"bzz-raw://dce0fdb6aec08481bf3c16a6fa884180de8d66b06b0fc8fd0cffad6ec244e0fa\",\"dweb:/ipfs/QmdPPbLDm4J4URpCsUJwQgqLXP1E4auaGa7WwDbjKSZkFv\"]},\"Setters.sol\":{\"keccak256\":\"0x339ba60f04adef3327f4632811acbf2e6d6e7e81fea63c681126bcbcc0be726f\",\"license\":\"Apache 2\",\"urls\":[\"bzz-raw://5472f43ca1f9ca36f37021584feb3debc71d1ff427565705d317a589ca0b6bde\",\"dweb:/ipfs/Qmbw1du9Do54hqKupxVCTvB8wTDceyKpMUXaJ82J3KsToz\"]},\"State.sol\":{\"keccak256\":\"0x4168d598ce712b25195a385009dea75ac9731526aa1d5d48a579ba6e44bf2d2c\",\"license\":\"Apache 2\",\"urls\":[\"bzz-raw://90f28a7efff831848231c99e25177e384a52a4d432bfdf45d6fc236e22bad0a5\",\"dweb:/ipfs/QmUusWcAvsJDndX2tJHW9rVpe1f4YpZDnocezCrtW7CjiD\"]},\"Structs.sol\":{\"keccak256\":\"0xe756fc2afd806d9d739eb14f5e1173b7c28664a7150a4c813b3c803a42ec5806\",\"license\":\"Apache 2\",\"urls\":[\"bzz-raw://97e896ab5c1e531bcac3618a144fe44dc24f45e5fab6a632817d143889feb862\",\"dweb:/ipfs/QmTaAmtsoKNaKt3aKBr5p9rZWBFjcPbSB6noemyVNJ2XiB\"]},\"libraries/external/BytesLib.sol\":{\"keccak256\":\"0xf75784dfc94ea43668eb195d5690a1dde1b6eda62017e73a3899721583821d29\",\"license\":\"Unlicense\",\"urls\":[\"bzz-raw://ca16cef8b94f3ac75d376489a668618f6c4595a906b939d674a883f4bf426014\",\"dweb:/ipfs/QmceGU7qhyFLSejaj6i4dEtMzXDCSF3aYDtW1UeKjXQaRn\"]}},\"version\":1}",
    "storageLayout": {
      "storage": [
        {
          "astId": 3686,
          "contract": "Governance.sol:Governance",
          "label": "_state",
          "offset": 0,
          "slot": "0",
          "type": "t_struct(WormholeState)3682_storage"
        }
      ],
      "types": {
        "t_address": {
          "encoding": "inplace",
          "label": "address",
          "numberOfBytes": "20"
        },
        "t_array(t_address)dyn_storage": {
          "base": "t_address",
          "encoding": "dynamic_array",
          "label": "address[]",
          "numberOfBytes": "32"
        },
        "t_bool": {
          "encoding": "inplace",
          "label": "bool",
          "numberOfBytes": "1"
        },
        "t_bytes32": {
          "encoding": "inplace",
          "label": "bytes32",
          "numberOfBytes": "32"
        },
        "t_mapping(t_address,t_bool)": {
          "encoding": "mapping",
          "key": "t_address",
          "label": "mapping(address => bool)",
          "numberOfBytes": "32",
          "value": "t_bool"
        },
        "t_mapping(t_address,t_uint64)": {
          "encoding": "mapping",
          "key": "t_address",
          "label": "mapping(address => uint64)",
          "numberOfBytes": "32",
          "value": "t_uint64"
        },
        "t_mapping(t_bytes32,t_bool)": {
          "encoding": "mapping",
          "key": "t_bytes32",
          "label": "mapping(bytes32 => bool)",
          "numberOfBytes": "32",
          "value": "t_bool"
        },
        "t_mapping(t_uint32,t_struct(GuardianSet)2720_storage)": {
          "encoding": "mapping",
          "key": "t_uint32",
          "label": "mapping(uint32 => struct Structs.GuardianSet)",
          "numberOfBytes": "32",
          "value": "t_struct(GuardianSet)2720_storage"
        },
        "t_struct(GuardianSet)2720_storage": {
          "encoding": "inplace",
          "label": "struct Structs.GuardianSet",
          "members": [
            {
              "astId": 2717,
              "contract": "Governance.sol:Governance",
              "label": "keys",
              "offset": 0,
              "slot": "0",
              "type": "t_array(t_address)dyn_storage"
            },
            {
              "astId": 2719,
              "contract": "Governance.sol:Governance",
              "label": "expirationTime",
              "offset": 0,
              "slot": "1",
              "type": "t_uint32"
            }
          ],
          "numberOfBytes": "64"
        },
        "t_struct(Provider)2714_storage": {
          "encoding": "inplace",
          "label": "struct Structs.Provider",
          "members": [
            {
              "astId": 2709,
              "contract": "Governance.sol:Governance",
              "label": "chainId",
              "offset": 0,
              "slot": "0",
              "type": "t_uint16"
            },
            {
              "astId": 2711,
              "contract": "Governance.sol:Governance",
              "label": "governanceChainId",
              "offset": 2,
              "slot": "0",
              "type": "t_uint16"
            },
            {
              "astId": 2713,
              "contract": "Governance.sol:Governance",
              "label": "governanceContract",
              "offset": 0,
              "slot": "1",
              "type": "t_bytes32"
            }
          ],
          "numberOfBytes": "64"
        },
        "t_struct(WormholeState)3682_storage": {
          "encoding": "inplace",
          "label": "struct Storage.WormholeState",
          "members": [
            {
              "astId": 3656,
              "contract": "Governance.sol:Governance",
              "label": "provider",
              "offset": 0,
              "slot": "0",
              "type": "t_struct(Provider)2714_storage"
            },
            {
              "astId": 3661,
              "contract": "Governance.sol:Governance",
              "label": "guardianSets",
              "offset": 0,
              "slot": "2",
              "type": "t_mapping(t_uint32,t_struct(GuardianSet)2720_storage)"
            },
            {
              "astId": 3663,
              "contract": "Governance.sol:Governance",
              "label": "guardianSetIndex",
              "offset": 0,
              "slot": "3",
              "type": "t_uint32"
            },
            {
              "astId": 3665,
              "contract": "Governance.sol:Governance",
              "label": "guardianSetExpiry",
              "offset": 4,
              "slot": "3",
              "type": "t_uint32"
            },
            {
              "astId": 3669,
              "contract": "Governance.sol:Governance",
              "label": "sequences",
              "offset": 0,
              "slot": "4",
              "type": "t_mapping(t_address,t_uint64)"
            },
            {
              "astId": 3673,
              "contract": "Governance.sol:Governance",
              "label": "consumedGovernanceActions",
              "offset": 0,
              "slot": "5",
              "type": "t_mapping(t_bytes32,t_bool)"
            },
            {
              "astId": 3677,
              "contract": "Governance.sol:Governance",
              "label": "initializedImplementations",
              "offset": 0,
              "slot": "6",
              "type": "t_mapping(t_address,t_bool)"
            },
            {
              "astId": 3679,
              "contract": "Governance.sol:Governance",
              "label": "messageFee",
              "offset": 0,
              "slot": "7",
              "type": "t_uint256"
            },
            {
              "astId": 3681,
              "contract": "Governance.sol:Governance",
              "label": "evmChainId",
              "offset": 0,
              "slot": "8",
              "type": "t_uint256"
            }
          ],
          "numberOfBytes": "288"
        },
        "t_uint16": {
          "encoding": "inplace",
          "label": "uint16",
          "numberOfBytes": "2"
        },
        "t_uint256": {
          "encoding": "inplace",
          "label": "uint256",
          "numberOfBytes": "32"
        },
        "t_uint32": {
          "encoding": "inplace",
          "label": "uint32",
          "numberOfBytes": "4"
        },
        "t_uint64": {
          "encoding": "inplace",
          "label": "uint64",
          "numberOfBytes": "8"
        }
      }
    },
    "userdoc": { "kind": "user", "methods": {}, "version": 1 }
  },
  "sourceCode": "// contracts/Governance.sol\n// SPDX-License-Identifier: Apache 2\n\npragma solidity ^0.8.0;\n\nimport \"./Structs.sol\";\nimport \"./GovernanceStructs.sol\";\nimport \"./Messages.sol\";\nimport \"./Setters.sol\";\n\nimport \"@openzeppelin/contracts/proxy/ERC1967/ERC1967Upgrade.sol\";\n\n/**\n * @dev `Governance` defines a means to enacting changes to the core bridge contract,\n * guardianSets, message fees, and transfer fees\n */\nabstract contract Governance is GovernanceStructs, Messages, Setters, ERC1967Upgrade {\n    event ContractUpgraded(address indexed oldContract, address indexed newContract);\n    event GuardianSetAdded(uint32 indexed index);\n\n    // \"Core\" (left padded)\n    bytes32 constant module = 0x00000000000000000000000000000000000000000000000000000000436f7265;\n\n    /**\n     * @dev Upgrades a contract via Governance VAA/VM\n     */\n    function submitContractUpgrade(bytes memory _vm) public {\n        require(!isFork(), \"invalid fork\");\n\n        Structs.VM memory vm = parseVM(_vm);\n\n        // Verify the VAA is valid before processing it\n        (bool isValid, string memory reason) = verifyGovernanceVM(vm);\n        require(isValid, reason);\n\n        GovernanceStructs.ContractUpgrade memory upgrade = parseContractUpgrade(vm.payload);\n\n        // Verify the VAA is for this module\n        require(upgrade.module == module, \"Invalid Module\");\n\n        // Verify the VAA is for this chain\n        require(upgrade.chain == chainId(), \"Invalid Chain\");\n\n        // Record the governance action as consumed\n        setGovernanceActionConsumed(vm.hash);\n\n        // Upgrades the implementation to the new contract\n        upgradeImplementation(upgrade.newContract);\n    }\n\n    /**\n     * @dev Sets a `messageFee` via Governance VAA/VM\n     */\n    function submitSetMessageFee(bytes memory _vm) public {\n        Structs.VM memory vm = parseVM(_vm);\n\n        // Verify the VAA is valid before processing it\n        (bool isValid, string memory reason) = verifyGovernanceVM(vm);\n        require(isValid, reason);\n\n        GovernanceStructs.SetMessageFee memory upgrade = parseSetMessageFee(vm.payload);\n\n        // Verify the VAA is for this module\n        require(upgrade.module == module, \"Invalid Module\");\n\n        // Verify the VAA is for this chain\n        require(upgrade.chain == chainId() && !isFork(), \"Invalid Chain\");\n\n        // Record the governance action as consumed to prevent reentry\n        setGovernanceActionConsumed(vm.hash);\n\n        // Updates the messageFee\n        setMessageFee(upgrade.messageFee);\n    }\n\n    /**\n     * @dev Deploys a new `guardianSet` via Governance VAA/VM\n     */\n    function submitNewGuardianSet(bytes memory _vm) public {\n        Structs.VM memory vm = parseVM(_vm);\n\n        // Verify the VAA is valid before processing it\n        (bool isValid, string memory reason) = verifyGovernanceVM(vm);\n        require(isValid, reason);\n\n        GovernanceStructs.GuardianSetUpgrade memory upgrade = parseGuardianSetUpgrade(vm.payload);\n\n        // Verify the VAA is for this module\n        require(upgrade.module == module, \"invalid Module\");\n\n        // Verify the VAA is for this chain\n        require((upgrade.chain == chainId() && !isFork()) || upgrade.chain == 0, \"invalid Chain\");\n\n        // Verify the Guardian Set keys are not empty, this guards\n        // against the accidential upgrade to an empty GuardianSet\n        require(upgrade.newGuardianSet.keys.length > 0, \"new guardian set is empty\");\n\n        // Verify that the index is incrementing via a predictable +1 pattern\n        require(upgrade.newGuardianSetIndex == getCurrentGuardianSetIndex() + 1, \"index must increase in steps of 1\");\n\n        // Record the governance action as consumed to prevent reentry\n        setGovernanceActionConsumed(vm.hash);\n\n        // Trigger a time-based expiry of current guardianSet\n        expireGuardianSet(getCurrentGuardianSetIndex());\n\n        // Add the new guardianSet to guardianSets\n        storeGuardianSet(upgrade.newGuardianSet, upgrade.newGuardianSetIndex);\n\n        // Makes the new guardianSet effective\n        updateGuardianSetIndex(upgrade.newGuardianSetIndex);\n    }\n\n    /**\n     * @dev Submits transfer fees to the recipient via Governance VAA/VM\n     */\n    function submitTransferFees(bytes memory _vm) public {\n        Structs.VM memory vm = parseVM(_vm);\n\n        // Verify the VAA is valid before processing it\n        (bool isValid, string memory reason) = verifyGovernanceVM(vm);\n        require(isValid, reason);\n\n        // Obtains the transfer from the VAA payload\n        GovernanceStructs.TransferFees memory transfer = parseTransferFees(vm.payload);\n\n        // Verify the VAA is for this module\n        require(transfer.module == module, \"invalid Module\");\n\n        // Verify the VAA is for this chain\n        require((transfer.chain == chainId() && !isFork()) || transfer.chain == 0, \"invalid Chain\");\n\n        // Record the governance action as consumed to prevent reentry\n        setGovernanceActionConsumed(vm.hash);\n\n        // Obtains the recipient address to be paid transfer fees\n        address payable recipient = payable(address(uint160(uint256(transfer.recipient))));\n\n        // Transfers transfer fees to the recipient\n        recipient.transfer(transfer.amount);\n    }\n\n    /**\n    * @dev Updates the `chainId` and `evmChainId` on a forked chain via Governance VAA/VM\n    */\n    function submitRecoverChainId(bytes memory _vm) public {\n        require(isFork(), \"not a fork\");\n\n        Structs.VM memory vm = parseVM(_vm);\n\n        // Verify the VAA is valid before processing it\n        (bool isValid, string memory reason) = verifyGovernanceVM(vm);\n        require(isValid, reason);\n\n        GovernanceStructs.RecoverChainId memory rci = parseRecoverChainId(vm.payload);\n\n        // Verify the VAA is for this module\n        require(rci.module == module, \"invalid Module\");\n\n        // Verify the VAA is for this chain\n        require(rci.evmChainId == block.chainid, \"invalid EVM Chain\");\n\n        // Record the governance action as consumed to prevent reentry\n        setGovernanceActionConsumed(vm.hash);\n\n        // Update the chainIds\n        setEvmChainId(rci.evmChainId);\n        setChainId(rci.newChainId);\n    }\n\n    /**\n     * @dev Upgrades the `currentImplementation` with a `newImplementation`\n     */\n    function upgradeImplementation(address newImplementation) internal {\n        address currentImplementation = _getImplementation();\n\n        _upgradeTo(newImplementation);\n\n        // Call initialize function of the new implementation\n        (bool success, bytes memory reason) = newImplementation.delegatecall(abi.encodeWithSignature(\"initialize()\"));\n\n        require(success, string(reason));\n\n        emit ContractUpgraded(currentImplementation, newImplementation);\n    }\n\n    /**\n     * @dev Verifies a Governance VAA/VM is valid\n     */\n    function verifyGovernanceVM(Structs.VM memory vm) internal view returns (bool, string memory){\n        // Verify the VAA is valid\n        (bool isValid, string memory reason) = verifyVM(vm);\n        if (!isValid){\n            return (false, reason);\n        }\n\n        // only current guardianset can sign governance packets\n        if (vm.guardianSetIndex != getCurrentGuardianSetIndex()) {\n            return (false, \"not signed by current guardian set\");\n        }\n\n        // Verify the VAA is from the governance chain (Solana)\n        if (uint16(vm.emitterChainId) != governanceChainId()) {\n            return (false, \"wrong governance chain\");\n        }\n\n        // Verify the emitter contract is the governance contract (0x4 left padded)\n        if (vm.emitterAddress != governanceContract()) {\n            return (false, \"wrong governance contract\");\n        }\n\n        // Verify this governance action hasn't already been\n        // consumed to prevent reentry and replay\n        if (governanceActionIsConsumed(vm.hash)){\n            return (false, \"governance action already consumed\");\n        }\n\n        // Confirm the governance VAA/VM is valid\n        return (true, \"\");\n    }\n}"
}
